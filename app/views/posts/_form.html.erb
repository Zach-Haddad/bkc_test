<% action_url = post.persisted? ? post_url(post) : posts_url %>
<% http_method = post.persisted? ? "PATCH" : "POST" %>
<% cancel_url = post.persisted? ? post : posts_url %>

<form action="<%= action_url %>" method="POST" class="post-form">
  <input type="hidden" name="_method" value="<%= http_method %>">
  <input
    type="hidden"
    name="authenticity_token"
    value="<%= form_authenticity_token %>">

  <label>
    Title:
    <input id="new-post-title" class="post-title" name="post[title]" value="<%= post.title %>">
  </label>
  <br/>
  <br/>

  <label>
    Content:
    <br/>
    <textarea rows="4" cols="50" class="post-body" name="post[body]"><%= post.body %></textarea>
  </label>
  <br>

  <input type="Submit" value="Submit" id="submit" class="btn btn-info">
  <%=link_to "Cancel", cancel_url, class:"btn btn-danger"%>
</form>
